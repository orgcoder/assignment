{"ast":null,"code":"var _jsxFileName = \"C:\\\\data-retrieve-task\\\\src\\\\components\\\\ExampleA.js\";\nimport React, { Component } from 'react';\nimport './visWidgetConfig.css';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { getComparisonById } from \"network/networkRequests\";\nimport { Table } from 'reactstrap';\nimport { isUri } from 'valid-url';\nimport ReactReadMoreReadLess from \"react-read-more-read-less\";\nimport { Grid } from 'gridjs-react';\nconst paperLink = \"https://www.orkg.org/orkg/paper/\";\n\nclass FilterList extends React.Component {\n  render() {\n    const {\n      elements\n    } = this.props;\n    const {\n      filterStr\n    } = this.state;\n    const filteredElements = elements.filter(e => e.includes(filterStr)).map(e => /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 23\n      }\n    }, e));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: filterStr,\n      onChange: e => this.setState({\n        filterStr: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, filteredElements));\n  }\n\n}\n\nclass ExampleA extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getData = () => {\n      getComparisonById('R44930').then(dataFrame => {\n        this.setState({\n          requestedData: dataFrame,\n          loading: false\n        });\n      });\n    };\n\n    this.renderData = () => {\n      // create an authors array;\n      const authorStatements = this.state.requestedData.statementsData.content.filter(item => item.predicate.id === 'P27');\n\n      if (!this.state.requestedData) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 20\n          }\n        }, \"Some error\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }\n        }, \"Title: \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 32\n          }\n        }, this.state.requestedData.resourceMetaData.label), \"; Number of contributions:\", ' ', /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }\n        }, this.state.requestedData.comparisonData.contributions.length)), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }\n        }, \"Authors:\", ' ', authorStatements.map(item => {\n          return item.object.label + '; ';\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }\n        }, \"Comparison Data:\"), this.renderComparisonTable());\n      }\n    };\n\n    this.renderComparisonTable = () => {\n      const dataFrame = this.state.requestedData.comparisonData; //dataFrame2 = dataFrame.filter( (id) => ['SAME_AS'].includes(id) );\n      //dataFrame2.push(dataFrame.properties.filter(property => property.id == 'P9042'));\n\n      return (\n        /*#__PURE__*/\n        //<table style={{ width: '100%', overflow: 'auto', display: 'block' }}>\n        React.createElement(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          responsive: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"thead\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }\n        }, \"Contribution\"), dataFrame.properties.filter(property => property.active === true).map(property => {\n          return /*#__PURE__*/React.createElement(\"th\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 37\n            }\n          }, \" \", property.label);\n        }))), /*#__PURE__*/React.createElement(\"tbody\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }\n        }, Object.keys(dataFrame.data).map((data, id) => {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            key: 'tr_id' + id,\n            style: {\n              border: '1px solid black',\n              borderTop: 'none'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            key: 'td_id_' + id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }\n          }, \" \", dataFrame.contributions[id].contributionLabel, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 39\n            }\n          })), \"(\", /*#__PURE__*/React.createElement(\"a\", {\n            href: paperLink + dataFrame.contributions[id].paperId + '/' + dataFrame.contributions[id].id,\n            target: \"_blank\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 49\n            }\n          }, dataFrame.contributions[id].paperId + '/' + dataFrame.contributions[id].id), \")\"), this.createRows(id));\n        })))\n      );\n    };\n\n    this.createRows = rowId => {\n      // property filtering\n      const dataFrame = this.state.requestedData.comparisonData;\n      const activeProperties = dataFrame.properties.filter(property => property.active === true);\n      return activeProperties.map(property => {\n        const dataValues = dataFrame.data[property.id][rowId]; //const dataValues2 = dataFrame.data[property.id][rowId][];\n        //console.log(dataValues2)\n\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: 'td_id' + rowId + '_' + property.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 17\n          }\n        }, \" \", dataValues.map(val => {\n          if (val.label) {\n            if (isUri(val.label)) {\n              var sub = onlyDomain(val.label);\n              return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n                href: val.label,\n                target: \"_blank\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 42\n                }\n              }, \"\\u25BA\", sub, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 91\n                }\n              }));\n            } else {\n              return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactReadMoreReadLess, {\n                charLimit: 30,\n                readMoreText: /*#__PURE__*/React.createElement(\"a\", {\n                  href: \"#\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 50\n                  }\n                }, \"Read more ▼\"),\n                readLessText: /*#__PURE__*/React.createElement(\"a\", {\n                  href: \"#\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 50\n                  }\n                }, \"Read less ▲\"),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 42\n                }\n              }, val.label));\n            }\n          } else return val.label + ' ';\n        }));\n      });\n    };\n\n    this.state = {\n      loading: true,\n      requestedData: null\n    };\n  }\n\n  componentDidMount() {\n    // fetch data\n    this.getData();\n  }\n\n  /** Component Rendering Function **/\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'headerStyle',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"Example A: Comparisons\", ' ', /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: '#e86161'\n      },\n      href: \"https://www.orkg.org/orkg/comparison/R44930\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, \"COVID-19 Reproductive Number Estimates\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'bodyStyle',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, this.state.loading && /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      icon: faSpinner,\n      spin: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    })), ' ', \"Loading ...\"), !this.state.loading && this.renderData()));\n  }\n\n} // End ExampleA class\n\n\nconst grid = new Grid({\n  columns: ['Name', 'Language', 'Released At', 'Artist'],\n  server: {\n    url: 'https://api.scryfall.com/cards/search?q=Inspiring',\n    then: data => data.map(card => [card.name, card.lang, card.released_at, card.artist])\n  }\n}); //-------OnlyDomain function--------\n\nfunction onlyDomain(url) {\n  var a = document.createElement('a');\n  a.href = url;\n  var s = a.hostname.split('.'),\n      d = s.length - 2;\n  return s[d] + '.' + s[d + 1];\n} //-------- --------\n\n\nexport default ExampleA;","map":{"version":3,"sources":["C:/data-retrieve-task/src/components/ExampleA.js"],"names":["React","Component","FontAwesomeIcon","Icon","faSpinner","getComparisonById","Table","isUri","ReactReadMoreReadLess","Grid","paperLink","FilterList","render","elements","props","filterStr","state","filteredElements","filter","e","includes","map","setState","target","value","ExampleA","constructor","getData","then","dataFrame","requestedData","loading","renderData","authorStatements","statementsData","content","item","predicate","id","resourceMetaData","label","comparisonData","contributions","length","object","renderComparisonTable","properties","property","active","Object","keys","data","border","borderTop","contributionLabel","paperId","createRows","rowId","activeProperties","dataValues","val","sub","onlyDomain","componentDidMount","color","grid","columns","server","url","card","name","lang","released_at","artist","a","document","createElement","href","s","hostname","split","d"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,uBAAP;AACA,SAASC,eAAe,IAAIC,IAA5B,QAAwC,gCAAxC;AACA,SAASC,SAAT,QAA0B,mCAA1B;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,KAAT,QAAsB,WAAtB;AACA,OAAOC,qBAAP,MAAkC,2BAAlC;AACA,SAASC,IAAT,QAAqB,cAArB;AAGA,MAAMC,SAAS,GAAG,kCAAlB;;AACA,MAAMC,UAAN,SAAyBX,KAAK,CAACC,SAA/B,CAAyC;AACrCW,EAAAA,MAAM,GAAI;AACN,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAgB,KAAKC,KAA3B;AAEA,UAAMC,gBAAgB,GAAGJ,QAAQ,CAC5BK,MADoB,CACbC,CAAC,IAAIA,CAAC,CAACC,QAAF,CAAWL,SAAX,CADQ,EAEpBM,GAFoB,CAEhBF,CAAC,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,CAAN,CAFW,CAAzB;AAIA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,KAAK,EAAGJ,SAFZ;AAGI,MAAA,QAAQ,EAAGI,CAAC,IAAI,KAAKG,QAAL,CAAc;AAAEP,QAAAA,SAAS,EAAEI,CAAC,CAACI,MAAF,CAASC;AAAtB,OAAd,CAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMP,gBADN,CALJ,CADJ;AAWH;;AApBoC;;AAsBzC,MAAMQ,QAAN,SAAuBxB,SAAvB,CAAiC;AAC/ByB,EAAAA,WAAW,CAACZ,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAajBa,OAbiB,GAaP,MAAM;AACZtB,MAAAA,iBAAiB,CAAC,QAAD,CAAjB,CAA4BuB,IAA5B,CAAiCC,SAAS,IAAI;AAC1C,aAAKP,QAAL,CAAc;AAAEQ,UAAAA,aAAa,EAAED,SAAjB;AAA4BE,UAAAA,OAAO,EAAE;AAArC,SAAd;AACH,OAFD;AAGH,KAjBgB;;AAAA,SAmBjBC,UAnBiB,GAmBJ,MAAM;AACf;AACA,YAAMC,gBAAgB,GAAG,KAAKjB,KAAL,CAAWc,aAAX,CAAyBI,cAAzB,CAAwCC,OAAxC,CAAgDjB,MAAhD,CAAuDkB,IAAI,IAAIA,IAAI,CAACC,SAAL,CAAeC,EAAf,KAAsB,KAArF,CAAzB;;AAEA,UAAI,CAAC,KAAKtB,KAAL,CAAWc,aAAhB,EAA+B;AAC3B,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH,OAFD,MAEO;AACH,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI,KAAKd,KAAL,CAAWc,aAAX,CAAyBS,gBAAzB,CAA0CC,KAA9C,CADX,gCAC8F,GAD9F,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI,KAAKxB,KAAL,CAAWc,aAAX,CAAyBW,cAAzB,CAAwCC,aAAxC,CAAsDC,MAA1D,CAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACa,GADb,EAEKV,gBAAgB,CAACZ,GAAjB,CAAqBe,IAAI,IAAI;AAC1B,iBAAOA,IAAI,CAACQ,MAAL,CAAYJ,KAAZ,GAAoB,IAA3B;AACH,SAFA,CAFL,CALJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAXJ,EAYK,KAAKK,qBAAL,EAZL,CADJ;AAgBH;AACJ,KA3CgB;;AAAA,SA6CjBA,qBA7CiB,GA6CO,MAAM;AAC1B,YAAMhB,SAAS,GAAG,KAAKb,KAAL,CAAWc,aAAX,CAAyBW,cAA3C,CAD0B,CAG1B;AACA;;AAGA;AAAA;AACI;AAEA,4BAAC,KAAD;AAAO,UAAA,OAAO,MAAd;AAAe,UAAA,QAAQ,MAAvB;AAAwB,UAAA,KAAK,MAA7B;AAA8B,UAAA,UAAU,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAIKZ,SAAS,CAACiB,UAAV,CACI5B,MADJ,CACW6B,QAAQ,IAAIA,QAAQ,CAACC,MAAT,KAAoB,IAD3C,EAEI3B,GAFJ,CAEQ0B,QAAQ,IAAI;AACb,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUKA,QAAQ,CAACP,KAVd,CADJ;AAeH,SAlBJ,CAJL,CADJ,CAHJ,eA6BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKS,MAAM,CAACC,IAAP,CAAYrB,SAAS,CAACsB,IAAtB,EAA4B9B,GAA5B,CAAgC,CAAC8B,IAAD,EAAOb,EAAP,KAAc;AAC3C,8BACI;AAAI,YAAA,GAAG,EAAE,UAAUA,EAAnB;AAAuB,YAAA,KAAK,EAAE;AAAEc,cAAAA,MAAM,EAAE,iBAAV;AAA6BC,cAAAA,SAAS,EAAE;AAAxC,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACI;AACI,YAAA,GAAG,EAAE,WAAWf,EADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAYKT,SAAS,CAACa,aAAV,CAAwBJ,EAAxB,EAA4BgB,iBAZjC,eAaI,uDAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAF,CAbJ,oBAagB;AAAG,YAAA,IAAI,EAAE5C,SAAS,GAClCmB,SAAS,CAACa,aAAV,CAAwBJ,EAAxB,EAA4BiB,OADH,GAErB,GAFqB,GAGzB1B,SAAS,CAACa,aAAV,CAAwBJ,EAAxB,EAA4BA,EAHZ;AAGgB,YAAA,MAAM,EAAE,QAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAIZT,SAAS,CAACa,aAAV,CAAwBJ,EAAxB,EAA4BiB,OAA5B,GACA,GADA,GAEA1B,SAAS,CAACa,aAAV,CAAwBJ,EAAxB,EAA4BA,EANhB,CAbhB,MADJ,EAuBK,KAAKkB,UAAL,CAAgBlB,EAAhB,CAvBL,CADJ;AA2BH,SA5BA,CADL,CA7BJ;AAHJ;AAiEH,KArHgB;;AAAA,SAuHjBkB,UAvHiB,GAuHJC,KAAK,IAAI;AAClB;AACA,YAAM5B,SAAS,GAAG,KAAKb,KAAL,CAAWc,aAAX,CAAyBW,cAA3C;AACA,YAAMiB,gBAAgB,GAAG7B,SAAS,CAACiB,UAAV,CAAqB5B,MAArB,CAA4B6B,QAAQ,IAAIA,QAAQ,CAACC,MAAT,KAAoB,IAA5D,CAAzB;AACA,aAAOU,gBAAgB,CAACrC,GAAjB,CAAqB0B,QAAQ,IAAI;AACpC,cAAMY,UAAU,GAAG9B,SAAS,CAACsB,IAAV,CAAeJ,QAAQ,CAACT,EAAxB,EAA4BmB,KAA5B,CAAnB,CADoC,CAEpC;AACA;;AACA,4BACI;AACI,UAAA,GAAG,EAAE,UAAUA,KAAV,GAAkB,GAAlB,GAAwBV,QAAQ,CAACT,EAD1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAsBKqB,UAAU,CAACtC,GAAX,CAAeuC,GAAG,IAAI;AACnB,cAAIA,GAAG,CAACpB,KAAR,EACA;AACI,gBAAIjC,KAAK,CAACqD,GAAG,CAACpB,KAAL,CAAT,EACA;AACI,kBAAIqB,GAAG,GAAGC,UAAU,CAACF,GAAG,CAACpB,KAAL,CAApB;AACA,kCAAO,uDAAE;AAAG,gBAAA,IAAI,EAAEoB,GAAG,CAACpB,KAAb;AAAoB,gBAAA,MAAM,EAAE,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwCqB,GAAxC,MAAF,eAAmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAnD,CAAP;AACH,aAJD,MAMA;AACI,kCAAO,uDAAE,oBAAC,qBAAD;AACL,gBAAA,SAAS,EAAE,EADN;AAEL,gBAAA,YAAY,eAAC;AAAG,kBAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa,aAAb,CAFR;AAGL,gBAAA,YAAY,eAAC;AAAG,kBAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa,aAAb,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKJD,GAAG,CAACpB,KALA,CAAF,CAAP;AAOH;AACJ,WAjBD,MAmBI,OAAOoB,GAAG,CAACpB,KAAJ,GAAY,GAAnB;AACP,SArBA,CAtBL,CADJ;AA+CH,OAnDM,CAAP;AAoDH,KA/KgB;;AAEjB,SAAKxB,KAAL,GAAa;AACXe,MAAAA,OAAO,EAAE,IADE;AAEXD,MAAAA,aAAa,EAAE;AAFJ,KAAb;AAIC;;AAEDiC,EAAAA,iBAAiB,GAAG;AAChB;AACA,SAAKpC,OAAL;AACH;;AAsKD;AACAf,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAE,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAC2B,GAD3B,eAEI;AAAG,MAAA,KAAK,EAAE;AAAEoD,QAAAA,KAAK,EAAE;AAAT,OAAV;AAAgC,MAAA,IAAI,EAAC,6CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAFJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAE,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhD,KAAL,CAAWe,OAAX,iBACG;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE3B,SAAZ;AAAuB,MAAA,IAAI,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAGY,GAHZ,gBAFR,EASK,CAAC,KAAKY,KAAL,CAAWe,OAAZ,IAAuB,KAAKC,UAAL,EAT5B,CAPJ,CADJ;AAqBH;;AAzM4B,C,CA0M/B;;;AAEF,MAAMiC,IAAI,GAAG,IAAIxD,IAAJ,CAAS;AAClByD,EAAAA,OAAO,EAAE,CAAC,MAAD,EAAS,UAAT,EAAqB,aAArB,EAAoC,QAApC,CADS;AAElBC,EAAAA,MAAM,EAAE;AACJC,IAAAA,GAAG,EAAE,mDADD;AAEJxC,IAAAA,IAAI,EAAEuB,IAAI,IAAIA,IAAI,CAAC9B,GAAL,CAASgD,IAAI,IAAI,CAACA,IAAI,CAACC,IAAN,EAAYD,IAAI,CAACE,IAAjB,EAAuBF,IAAI,CAACG,WAA5B,EAAyCH,IAAI,CAACI,MAA9C,CAAjB;AAFV;AAFU,CAAT,CAAb,C,CAOA;;AACA,SAASX,UAAT,CAAoBM,GAApB,EAAwB;AACpB,MAAIM,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAR;AACAF,EAAAA,CAAC,CAACG,IAAF,GAAST,GAAT;AACA,MAAIU,CAAC,GAAGJ,CAAC,CAACK,QAAF,CAAWC,KAAX,CAAiB,GAAjB,CAAR;AAAA,MAA+BC,CAAC,GAAGH,CAAC,CAACnC,MAAF,GAAS,CAA5C;AACA,SAAOmC,CAAC,CAACG,CAAD,CAAD,GAAK,GAAL,GAASH,CAAC,CAACG,CAAC,GAAC,CAAH,CAAjB;AACH,C,CACD;;;AAEA,eAAexD,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport './visWidgetConfig.css';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { getComparisonById } from \"network/networkRequests\";\nimport { Table } from 'reactstrap';\nimport { isUri } from 'valid-url';\nimport ReactReadMoreReadLess from \"react-read-more-read-less\";\nimport { Grid } from 'gridjs-react';\n\n\nconst paperLink = \"https://www.orkg.org/orkg/paper/\";\nclass FilterList extends React.Component {\n    render () {\n        const { elements } = this.props;\n        const { filterStr } = this.state;\n\n        const filteredElements = elements\n            .filter(e => e.includes(filterStr))\n            .map(e => <li>{ e }</li>)\n\n        return (\n            <div>\n                <input\n                    type=\"text\"\n                    value={ filterStr }\n                    onChange={ e => this.setState({ filterStr: e.target.value }) } />\n                <ul>\n                    { filteredElements }\n                </ul>\n            </div>\n        );\n    }\n}\nclass ExampleA extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      requestedData: null\n        };\n    }\n\n    componentDidMount() {\n        // fetch data\n        this.getData();\n    }\n\n    getData = () => {\n        getComparisonById('R44930').then(dataFrame => {\n            this.setState({ requestedData: dataFrame, loading: false });\n        });\n    };\n\n    renderData = () => {\n        // create an authors array;\n        const authorStatements = this.state.requestedData.statementsData.content.filter(item => item.predicate.id === 'P27');\n\n        if (!this.state.requestedData) {\n            return <div>Some error</div>;\n        } else {\n            return (\n                <div>\n                    <div>\n                        Title: <b>{this.state.requestedData.resourceMetaData.label}</b>; Number of contributions:{' '}\n                        <b>{this.state.requestedData.comparisonData.contributions.length}</b>\n                    </div>\n                    <div>\n                        Authors:{' '}\n                        {authorStatements.map(item => {\n                            return item.object.label + '; ';\n                        })}\n                    </div>\n                    <div>Comparison Data:</div>\n                    {this.renderComparisonTable()}\n                </div>\n            );\n        }\n    };\n\n    renderComparisonTable = () => {\n        const dataFrame = this.state.requestedData.comparisonData;\n\n        //dataFrame2 = dataFrame.filter( (id) => ['SAME_AS'].includes(id) );\n        //dataFrame2.push(dataFrame.properties.filter(property => property.id == 'P9042'));\n\n\n        return (\n            //<table style={{ width: '100%', overflow: 'auto', display: 'block' }}>\n\n            <Table striped bordered hover responsive>\n                {/*  define headers*/}\n                {/*<thead style={{ borderTop: '1px solid black', borderBottom: '1px solid black' }}>*/}\n                <thead>\n                    <tr>\n                        <th>\n                            Contribution\n                        </th>\n                        {dataFrame.properties\n                            .filter(property => property.active === true)\n                            .map(property => {\n                                return (\n                                    <th> {/*\n                                        key={property.label}\n                                        style={{\n                                            whiteSpace: 'nowrap',\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            borderRight: '1px solid black',\n                                            padding: '3px'\n                                        }}  */}\n\n                                        {property.label}\n                                        {/* console.log(property) */}\n                                    </th>\n                                );\n                            })}\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(dataFrame.data).map((data, id) => {\n                        return (\n                            <tr key={'tr_id' + id} style={{ border: '1px solid black', borderTop: 'none' }}>\n                                <td\n                                    key={'td_id_' + id}> {/*\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                        overflow: 'hidden',\n                                        textOverflow: 'ellipsis',\n                                        borderRight: '1px solid black',\n                                        borderLeft: '1px solid black',\n                                        padding: '3px',\n                                        maxWidth: '500px'\n                                    }}*/}\n\n                                    {dataFrame.contributions[id].contributionLabel}\n                                    <><br /></>(<a href={paperLink +\n                                dataFrame.contributions[id].paperId +\n                                    '/' +\n                                dataFrame.contributions[id].id} target={\"_blank\"}>{\n                                    dataFrame.contributions[id].paperId +\n                                    '/' +\n                                    dataFrame.contributions[id].id\n                                }</a>)\n                                </td>\n                                {this.createRows(id)}\n                            </tr>\n                        );\n                    })}\n                </tbody>\n                </Table>\n        );\n    };\n\n    createRows = rowId => {\n        // property filtering\n        const dataFrame = this.state.requestedData.comparisonData;\n        const activeProperties = dataFrame.properties.filter(property => property.active === true);\n        return activeProperties.map(property => {\n            const dataValues = dataFrame.data[property.id][rowId];\n            //const dataValues2 = dataFrame.data[property.id][rowId][];\n            //console.log(dataValues2)\n            return (\n                <td\n                    key={'td_id' + rowId + '_' + property.id} > {/*\n                    style={{\n                        whiteSpace: 'nowrap',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        borderRight: '1px solid black',\n                        padding: '3px',\n                        maxWidth: '200px'\n                    }}>*/}\n                {/*\n                    {dataValues.map(val => {\n                        if (val.label)\n                            if (val.label.includes (\"http\"))\n                            {\n                                var sub = domain(val.label);\n                                return <><a href={val.label}> {sub} </a><div></div></> ;\n                            }\n\n                        else\n                            return val.label + ' ';\n                    })}*/}\n                    {dataValues.map(val => {\n                        if (val.label)\n                        {\n                            if (isUri(val.label))\n                            {\n                                var sub = onlyDomain(val.label);\n                                return <><a href={val.label} target={\"_blank\"}>►{sub} </a><br /></>;\n                            }\n                            else\n                            {\n                                return <><ReactReadMoreReadLess\n                                    charLimit={30}\n                                    readMoreText=<a href=\"#\">{\"Read more ▼\"}</a>\n                                    readLessText=<a href=\"#\">{\"Read less ▲\"}</a>\n                                >\n                                    {val.label}\n                                </ReactReadMoreReadLess></>\n                            }\n                        }\n                        else\n                            return val.label + ' ';\n                    })}\n                </td>\n            );\n        });\n    };\n\n    /** Component Rendering Function **/\n    render() {\n        return (\n            <div>\n                <div className={'headerStyle'}>\n                    Example A: Comparisons{' '}\n                    <a style={{ color: '#e86161' }} href=\"https://www.orkg.org/orkg/comparison/R44930\">\n                        COVID-19 Reproductive Number Estimates\n                    </a>\n                </div>\n                <div className={'bodyStyle'}>\n                    {this.state.loading && (\n                        <h2 className=\"h5\">\n                            <span>\n                                <Icon icon={faSpinner} spin />\n                            </span>{' '}\n                            Loading ...\n                        </h2>\n                    )}\n                    {!this.state.loading && this.renderData()}\n                </div>\n            </div>\n        );\n    }\n} // End ExampleA class\n\nconst grid = new Grid({\n    columns: ['Name', 'Language', 'Released At', 'Artist'],\n    server: {\n        url: 'https://api.scryfall.com/cards/search?q=Inspiring',\n        then: data => data.map(card => [card.name, card.lang, card.released_at, card.artist])\n    }\n});\n//-------OnlyDomain function--------\nfunction onlyDomain(url){\n    var a = document.createElement('a');\n    a.href = url;\n    var s = a.hostname.split('.'), d = s.length-2;\n    return s[d]+'.'+s[d+1];\n}\n//-------- --------\n\nexport default ExampleA;\n"]},"metadata":{},"sourceType":"module"}